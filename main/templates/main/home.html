{% extends 'base.html'%}
{% block title%} my homepage {% endblock %}
{% block content %}
<div class="row text-center py-3">

    <h1>Explore and Sharing learning experience here... </h1>
</div>
<div class="flex-spacebetween bg-light">
    <form role="search" method="POST" class="form-group bg-light">
        {%csrf_token%}
        <div class="input-group input-group-sm">
            <input type="text" name="search" class="text-dark mx-2 " placeholder="Search for "
                aria-describedby="inputGroup-sizing-sm" />
            <label class="text-dark" for="floatingSelectGrid">in field</label>
            <select class="rounded mx-2" name="field" id="floatingSelectGrid">
                <option value="title">title</option>
                <option value="content" selected>content</option>
                <option value="writer">poster</option>
            </select>

            <button type="submit" class="btn btn-outline-warning btn-sm"><i class="bi bi-search"> </i></button>
        </div>
    </form>


    <div class="dropdown show ">
        <a class="btn btn-outline-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <!-- <i class="bi bi-arrow-down-up">Sorted by category :</i> -->
            <span class="bi bi-funnel">Filter by:</span>

        </a>

        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
            <a class="dropdown-item" href="{%url 'home'%}">ALL</a>

            {%for c in categories%}
            <a class="dropdown-item" href="{{c.get_absolute_url}}">{{c.name}}</a>

            {%endfor%}
        </div>
    </div>
</div>

<div class="container-fluid px-4 my-4">
    <div class="row g-4 ">

        {% for post in posts %}
        {% if post.set_public%}
        <div class="col-md-4">
            <div class="card box-shadow d-flex flex-row p-0 align-items-center h-100">

                <div class=" card-body d-flex flex-column align-items-start m-0 h-100">

                    <p class="bi bi-tag">{{post.category}}</p>

                    <!-- <h5 class="mt-0 text-primary">Category: {{post.category}}</h5> -->
                    <blockquote class="blockquote mb-0">
                        <p class="fw-bold lead fs-4">
                            {{post.title}}
                        </p>
                        <footer class="blockquote-footer">{{post.date}} by {{post.creater}}</footer>
                    </blockquote>
                    <p class="lh-sm lead"> {{post.content | safe | truncatechars:100}}</p>
                    <a class="card-link" href="{%url 'detail' post.id %}">Continue reading</a>
                </div>
                <div class="d-flex me-4 align-items-center" style="height:250px; width:200px">

                    {% if post.cover.url != None %}
                    <img alt="Thumbnail [200x250]" style="width: 100%" src="{{post.cover.url}}"
                        data-holder-rendered="true">
                    {%else%}
                    <img class="" alt="Thumbnail [200x250]" style="width: 100%" src="..." data-holder-rendered="true">
                    {%endif%}
                </div>

            </div>
        </div>
        {%endif%}
        {%empty%}
        <div class="col">No results</div>
        {%endfor%}


    </div>
</div>


{% endblock%}




<!-- <div class="row gx-4"> -->

<!-- </div> -->

<!-- 
 -->

<!-- <div class="col-md-4 text-dark">
    <div class="card ml-3 my-3 border bg-light">
        {% if post.cover.url != None %}
        <img class="card-img-right flex-auto d-none d-md-block" data-src="holder.js/200x250?theme=thumb"
            alt="Thumbnail [200x250]" style="width: 200px; height: 250px;" src="{{post.cover.url}}"
            data-holder-rendered="true">
        {%else%}
        <img class="card-img-right flex-auto d-none d-md-block" data-src="holder.js/200x250?theme=thumb"
            alt="Thumbnail [200x250]" style="width: 100%; height:100%;" src="..." data-holder-rendered="true">
        {%endif%}
   
        <div class="card-body " height="150">
            <strong class="d-inline-block mb-2 text-primary">{{post.category}} <small>{{post.add_like}} added to
                    Favorite</small></strong>
            <h5 class="card-title pb-2"><small>{{post.title}}</small></h5>
            <div class="mb-1 text-muted">{{post.date}} by {{post.creater}}</div>

            <p class="card-text" style="overflow: hidden; height: 50px;">
                {{post.content | safe}}
            </p>
            <a href="{%url 'detail' post.id %}" class="card-link">Continue reading</a>
        </div>

    </div>
</div>

<div style="height:50px; width:50px;overflow:hidden;padding-right:50px">
    {% if post.cover.url != None %}
    <img class="img-responsive" src="{{post.cover.url}}" alt="">
    {%else%}
    <img class="rounded float-start" src="..." alt="..." height="50">
    {%endif%}
</div> -->