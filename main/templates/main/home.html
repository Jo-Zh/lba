{% extends 'base.html'%}
{% block title%} my homepage {% endblock %}
{% block content %}

<h3 class="text-light">Explore online learning resource here... </h3>
<div class="flex-spacebetween bg-light">
    <form role="search" method="POST" class="form-group bg-light">
        {%csrf_token%}
        <div class="input-group input-group-sm">
            <input type="text" name="search" class="text-dark mx-2 " placeholder="Search for "
                aria-describedby="inputGroup-sizing-sm" />
            <label class="text-dark" for="floatingSelectGrid">in field</label>
            <select class="rounded mx-2" name="field" id="floatingSelectGrid">
                <option value="title">title</option>
                <option value="description" selected>description</option>
                <option value="writer">poster</option>
            </select>


            <button type="submit" class="btn btn-outline-warning btn-sm">search</button>
        </div>
    </form>


    <div class="dropdown show ">
        <a class="btn btn-outline-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Selected by category :
        </a>

        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
            <a class="dropdown-item" href="{%url 'home'%}">ALL</a>

            {%for c in categories%}
            <a class="dropdown-item" href="{{c.get_absolute_url}}">{{c.name}}</a>

            {%endfor%}
        </div>
    </div>
</div>

<div class="container-fluid px-4 my-2">
    <div class="row gx-4">

        {% for post in posts %}
        {% if post.set_public%}
        <div class="col-md-4 ">
            <div class="card flex-md-row mb-4 box-shadow h-md-250 ">
                <div class="card-body d-flex flex-column align-items-start" height="150">
                    <strong class="d-inline-block mb-2 text-primary">{{post.category}}</strong>
                    <h3 class="mb-0">
                        <a class="text-dark" href="#">Featured post</a>
                    </h3>
                    <div class="mb-1 text-muted">{{post.date}} by {{post.creater}}</div>
                    <p class="card-text " style="overflow: hidden; height: 50px;"> {{post.content | safe}}</p>
                    <a href="{%url 'detail' post.id %}">Continue reading</a>
                </div>
                {% if post.cover.url != None %}
                <img class="card-img-right flex-auto d-none d-md-block" data-src="holder.js/200x250?theme=thumb"
                    alt="Thumbnail [200x250]" style="width: 200px; height: 250px;" src="{{post.cover.url}}"
                    data-holder-rendered="true">
                {%else%}
                <img class="card-img-right flex-auto d-none d-md-block" data-src="holder.js/200x250?theme=thumb"
                    alt="Thumbnail [200x250]" style="width: 100%; height:100%;" src="..." data-holder-rendered="true">
                {%endif%}

            </div>
        </div>
        {%endif%}
        {%empty%}
        <div class="col">No results</div>
        {%endfor%}


    </div>
</div>


{% endblock%}




<!-- <div class="row gx-4"> -->

<!-- </div> -->

<!-- 
 -->

<!-- <div class="col-md-4 text-dark">
    <div class="card ml-3 my-3 border bg-light">
        {% if post.cover.url != None %}
        <img class="card-img-right flex-auto d-none d-md-block" data-src="holder.js/200x250?theme=thumb"
            alt="Thumbnail [200x250]" style="width: 200px; height: 250px;" src="{{post.cover.url}}"
            data-holder-rendered="true">
        {%else%}
        <img class="card-img-right flex-auto d-none d-md-block" data-src="holder.js/200x250?theme=thumb"
            alt="Thumbnail [200x250]" style="width: 100%; height:100%;" src="..." data-holder-rendered="true">
        {%endif%}
   
        <div class="card-body " height="150">
            <strong class="d-inline-block mb-2 text-primary">{{post.category}} <small>{{post.add_like}} added to
                    Favorite</small></strong>
            <h5 class="card-title pb-2"><small>{{post.title}}</small></h5>
            <div class="mb-1 text-muted">{{post.date}} by {{post.creater}}</div>

            <p class="card-text" style="overflow: hidden; height: 50px;">
                {{post.content | safe}}
            </p>
            <a href="{%url 'detail' post.id %}" class="card-link">Continue reading</a>
        </div>

    </div>
</div>

<div style="height:50px; width:50px;overflow:hidden;padding-right:50px">
    {% if post.cover.url != None %}
    <img class="img-responsive" src="{{post.cover.url}}" alt="">
    {%else%}
    <img class="rounded float-start" src="..." alt="..." height="50">
    {%endif%}
</div> -->